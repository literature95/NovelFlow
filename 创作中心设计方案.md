# 创作中心设计方案

## 1. 项目概述

基于 NovelFlow 现有架构，参考星月写作网站，设计一个现代化的创作中心，提供沉浸式写作体验，包含章节管理、编辑器、AI辅助、角色管理、世界观设定等功能。

## 2. 设计目标

- **沉浸式写作体验**：简洁的界面设计，减少干扰
- **全面的创作工具集**：章节管理、编辑器、AI辅助等
- **响应式设计**：适配不同屏幕尺寸
- **现代化UI**：参考星月写作的简洁风格
- **良好的用户体验**：流畅的交互，直观的操作

## 3. 功能模块设计

### 3.1 左侧导航栏

- **小说列表**：展示用户所有小说，支持新建小说
- **章节管理**：展示当前小说的章节列表，支持章节排序、新增、编辑、删除
- **导航折叠**：支持折叠/展开导航栏，提供更多写作空间

### 3.2 主编辑区域

- **编辑器**：支持Markdown编辑，实时预览
- **章节信息**：显示当前章节标题、所属小说
- **字数统计**：实时显示当前章节字数
- **保存功能**：自动保存和手动保存
- **写作目标**：设置每日写作目标，显示进度
- **专注模式**：隐藏侧边栏，提供沉浸式写作体验
- **深色模式**：支持切换深色/浅色主题

### 3.3 右侧面板

- **AI辅助**：提供AI生成建议，支持自定义提示
- **角色管理**：查看和管理小说角色
- **世界观设定**：查看和管理小说世界观
- **大纲管理**：查看和管理小说大纲
- **写作统计**：展示写作数据和计时器

## 4. 技术实现方案

### 4.1 前端架构

- **框架**：Next.js 13+ (App Router)
- **状态管理**：React Hooks (useState, useEffect, useCallback)
- **UI组件库**：自定义CSS + Tailwind CSS
- **图标库**：Lucide React
- **编辑器**：自定义textarea编辑器，支持Markdown
- **AI集成**：调用现有AI API

### 4.2 数据结构

复用现有接口定义：
- Novel：小说信息
- Chapter：章节信息
- Character：角色信息
- WorldSetting：世界观设定
- Outline：大纲信息

### 4.3 页面路由

- 创作中心主页：`/dashboard/writing`
- 章节编辑：`/dashboard/writing/[novelId]/[chapterId]`

## 5. 界面设计参考

### 5.1 整体布局

```
+-----------------+---------------------------+-----------------+
|                 |                           |                 |
|   左侧导航栏     |       主编辑区域           |   右侧面板       |
|   (可折叠)       |                           |   (可折叠)       |
|                 |                           |                 |
+-----------------+---------------------------+-----------------+
```

### 5.2 色彩方案

- **主色调**：蓝色系 (#3B82F6)
- **背景色**：浅灰色 (#F9FAFB) / 深灰色 (#1F2937) (深色模式)
- **文本色**：深灰色 (#111827) / 白色 (#F9FAFB) (深色模式)
- **边框色**：中灰色 (#E5E7EB) / 深灰色 (#374151) (深色模式)

### 5.3 排版

- **标题字体**：无衬线字体，粗体
- **正文字体**：无衬线字体，常规
- **编辑器字体**：等宽字体，支持良好的可读性

## 6. 实现步骤

1. 创建创作中心主页面组件
2. 实现左侧导航栏
3. 实现主编辑区域
4. 实现右侧面板
5. 集成AI辅助功能
6. 实现角色管理、世界观设定、大纲管理
7. 实现写作统计和计时器
8. 添加专注模式和深色模式
9. 测试和优化

## 7. 预期效果

- 提供流畅的写作体验
- 全面的创作工具集
- 现代化的UI设计
- 良好的响应式支持
- 适配不同使用场景

## 8. 测试计划

1. **功能测试**：测试各功能模块是否正常工作
2. **性能测试**：测试页面加载速度和响应时间
3. **兼容性测试**：测试不同浏览器和设备
4. **用户体验测试**：测试交互流畅性和直观性

## 9. 后续优化方向

- 支持实时协作
- 提供更多AI写作辅助功能
- 支持多格式导出
- 增加写作模板
- 提供数据分析功能